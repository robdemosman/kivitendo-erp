[% USE T8 %]
[% USE L %]
[% USE LxERP %]
[% USE HTML %]

<form action='controller.pl' method='post' id='filter_form'>
<div class='filter_toggle'>
<a href='#' onClick='javascript:$(".filter_toggle").toggle()'>[% 'Show Filter' | $T8 %]</a>
  [% SELF.filter_summary | html %]
</div>
<div class='filter_toggle' style='display:none'>
<a href='#' onClick='javascript:$(".filter_toggle").toggle()'>[% 'Hide Filter' | $T8 %]</a>
 <table id='filter_table'>
    <tr>
     <th align="right">[% 'Bank account' | $T8 %]</th>
     <td>[% L.select_tag('filter.local_bank_account_id', BANK_ACCOUNTS, default=filter.local_bank_account_id, title_key='displayable_name', with_empty=1, style='width:500px') %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Transdate from' | $T8 %]</th>
     <td>[% L.date_tag('filter.transdate:date::ge', filter.transdate_date__ge) %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Transdate to' | $T8 %]</th>
     <td>[% L.date_tag('filter.transdate:date::le', filter.transdate_date__le) %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Valutadate from' | $T8 %]</th>
     <td>[% L.date_tag('filter.valutadate:date::ge', filter.valutadate_date__ge) %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Valutadate to' | $T8 %]</th>
     <td>[% L.date_tag('filter.valutadate:date::le', filter.valutadate_date__le) %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Remote name' | $T8 %]</th>
     <td>[% L.input_tag('filter.remote_name:substr::ilike', filter.remote_name_substr__ilike, size=60, class='initial_focus') %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Remote account number' | $T8 %]</th>
     <td>[% L.input_tag('filter.remote_account_number:substr::ilike', filter.remote_account_number_substr__ilike, size=60, class='initial_focus') %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Remote bank code' | $T8 %]</th>
     <td>[% L.input_tag('filter.remote_bank_code:substr::ilike', filter.remote_bank_code_substr__ilike, size=60, class='initial_focus') %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Amount' | $T8 %]</th>
     <td>[% L.input_tag('filter.amount:number', filter.amount_number, size = 20) %]</td>
    </tr>

    <tr>
     <th align="right">[% 'Purpose' | $T8 %]</th>
     <td>[% L.input_tag('filter.purpose:substr::ilike', filter.purpose_substr__ilike, size=60, class='initial_focus') %]</td>
    </tr>
 </table>

[% L.hidden_tag('sort_by', FORM.sort_by) %]
[% L.hidden_tag('sort_dir', FORM.sort_dir) %]
[% L.hidden_tag('page', FORM.page) %]

[% L.button_tag('$("#filter_form").resetForm()', LxERP.t8('Reset')) %]
</div>

</form>
